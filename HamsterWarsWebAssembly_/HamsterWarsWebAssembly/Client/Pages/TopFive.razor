@page "/statistics"
@inject IBattleService _battle

<PageTitle>Statistics</PageTitle>
@if (_battle.PercentLoss.Count == 0 || _battle.PercentWin.Count == 0)
{
    <h2>No top list yet.</h2>
}
else
{
<div class="battle-container">
    <div>
        <h2>Top list</h2>
        @foreach (var hamster in _battle.PercentWin)
        {
            <div class="hamster-item">
                <img src="@hamster.ImgName" alt="@hamster.Name">
                <p>@hamster.Name</p>
                <p>Wins: @hamster.WinPercentRate%</p>
                <p>Games: @hamster.Games</p>
                <p>Wins: @hamster.Wins</p>
                <p>Losses: @hamster.Losses</p>
            </div>
        }
    </div>
    <div>
        <h2>Bottom list</h2>
        @foreach (var hamster in _battle.PercentLoss)
        {
            <div class="hamster-item">
                <img src="@hamster.ImgName" alt="@hamster.Name">
                <p>@hamster.Name</p>
                <p>Losses: @hamster.LossPercentRate%</p>
                <p>Games: @hamster.Games</p>
                <p>Wins: @hamster.Wins</p>
                <p>Losses: @hamster.Losses</p>
            </div>
        }
    </div>
</div>
}
@code {

    protected override async Task OnInitializedAsync()
    {
        await _battle.TopFive();
        await _battle.BottomFive();
    }

}